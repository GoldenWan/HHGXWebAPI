<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="../../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../fonts/icon/iconfont.css"/>
    <script type="text/javascript" src="../../js/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="../../js/bootstrap.min.js"></script>
    <style>
        #imgs{
            /*width: 600px;
            height: 600px;*/
            /*background-color: #4D4D4D;*/
            /*background: url("../../image/origin/coverFire.png");*/
            position: absolute;
            cursor: pointer;
            -webkit-box-shadow: 3px 3px 0px 3px #C7C7C7;
            box-shadow: 3px 3px 3px 0px #C7C7C7;
        }
        #parent{
            border: 1px solid #CDCDCD;
            position: relative;
            margin: 0 auto;  /*//父级元素设置为：*/
            background-color: #F4F4F4;
            overflow: hidden;
            margin: 100px;
        }

    </style>
</head>
<body><!--width="600" height="400"-->
<!--<svg style="border: 1px solid darkgray" xmlns="http://www.w3.org/2000/svg" width="500px" height="400px" version="1.1">-->
    <svg id="parent" style="border: 1px solid darkgray" width="500" height="500">
        <!--<image style="width: 200px; height: 200px" id="imgs" x="50" y="50" xlink:href="../../image/origin/coverFire.png" alt=""/>-->
        <image width="900" height="636" x="0" y="0" id="imgs" onmousemove="posMove(this.id)" xlink:href="../../image/origin/backgroundImg.jpg" src="../../image/origin/backgroundImg.jpg"/>
    </svg>
    <button id="big" type="button" class="btn btn-default" style="color: #0044cc;border: 1px solid #0044cc">+</button>
    <button id="small" type="button" class="btn btn-default">-</button>


    <script type="text/javascript">

        function posMove(getdivid) {
            //console.log('sadf');
            var oDiv = document.getElementById(getdivid);
            var oParent = document.getElementById('parent');
            var sent = {
                l: 10, //设置div在父元素的活动范围，10相当于给父div设置padding-left：10;
                r: parseInt(oParent.getAttribute("width")) - parseInt(oDiv.getAttribute("width")), // offsetWidth:当前对象的宽度， offsetWidth = width+padding+border
                t: 10,
//                b: parseInt(oParent.getAttribute("height")) - parseInt(oDiv.getAttribute("height")),
                n: 10
            }
            //console.log(sent.r);
            drag(oDiv, sent,oParent);
        }
        /**
         *
         * @param obj:被拖动的div
         * @param sent :设置div在容器中可以被拖动的区域
         */
        function drag(obj,sent,oParent){

            var dmW = document.documentElement.clientWidth || document.body.clientWidth;
            var dmH = document.documentElement.clientHeight || document.body.clientHeight;

            var sent = sent || {};
            var l = sent.l || 0;
            var r = sent.r;
            var t = sent.t || 0;
            var b = sent.b;
            var n = sent.n || 10;

            obj.onmousedown = function (ev){
                //console.log(parseInt(obj.getAttribute("x")));
                var oEvent = ev || event;
                var sentX = oEvent.clientX - parseInt(obj.getAttribute("x"));
                var sentY = oEvent.clientY - parseInt(obj.getAttribute("y"));

                document.onmousemove = function (ev){
                    var oEvent = ev || event;
                    var slideLeft = oEvent.clientX - sentX;
                    var slideTop = oEvent.clientY - sentY;
                    if(slideLeft>=0){
                        slideLeft=0;
                    }
                    if(slideLeft<=parseInt(oParent.getAttribute("width"))-parseInt(obj.getAttribute("width"))){
                        slideLeft=parseInt(oParent.getAttribute("width"))-parseInt(obj.getAttribute("width"));
                    }
                    if(slideTop>=0){
                        slideTop=0;
                    }
                    if(slideTop<=parseInt(oParent.getAttribute("height"))-parseInt(obj.getAttribute("height"))){
                        slideTop=parseInt(oParent.getAttribute("height"))-parseInt(obj.getAttribute("height"));
                    }
                    obj.setAttribute("x",slideLeft);
                    obj.setAttribute("y",slideTop);

                };
                document.onmouseup = function (){
                    document.onmousemove = null;
                    document.onmouseup = null;
                }
                return false;
            }
        }


        var big = $("#big");
        var small = $("#small");
        big.click(function(){
            var imgs = document.getElementById("imgs");
            var w = imgs.getAttribute("width");
            w = parseInt(w)+10;
            imgs.setAttribute("width",w);

            var h = imgs.getAttribute("height");
            h = parseInt(h)+7;
            imgs.setAttribute("height",h);
        });
        small.click(function(){
            var imgs = document.getElementById("imgs");
            var w = imgs.getAttribute("width");
            w = parseInt(w)-10;
            imgs.setAttribute("width",w);

            var h = imgs.getAttribute("height");
            h = parseInt(h)-7;
            imgs.setAttribute("height",h);
        });
    </script>


</body>
</html>