<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>报警处理情况详情</title>

    <!-- 主要框架引用-->
    <link rel="stylesheet" href="../../css/bootstrap.min.css"/>
    <link rel="stylesheet" href="../../fonts/icon/iconfont.css"/>
    <script type="text/javascript" src="../../js/jquery-1.12.4.min.js"></script>
    <script type="text/javascript" src="../../js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../js/handlebars.js"></script>

    <!-- 公共样式引用-->
    <link rel="stylesheet" href="../../css/style.css"/>

    <!-- 单页面样式-->
    <link rel="stylesheet" href="../../css/Competent/AlarmInformationInfo.css"/>

    <!--下面是时间的插件-->
    <link href="../../plug/datepicker/css/bootstrap-datetimepicker.min.css" rel="stylesheet" media="screen">

</head>
<body>

<div class="main_title">
    <a>消防管理情况</a>
    <span>></span>
    <a href="./AlarmInformation.html" class="titlt_active">报警信息处理情况</a>
    <span>></span>
    <a href="./AlarmInformationInfo.html" class="titlt_active">报警处理情况详情</a>
</div>

<div class="container main_page">

    <div class="row">

        <div class="col-sm-12 page_title">
            <div>
                <span>报警处理情况详情</span>
            </div>
        </div>

        <!-- 列表页面组-->
        <div class="col-sm-12" id="my_page">

            <!-- 头部按钮组-->
            <div class="col-sm-12 page_content">

                <form role="form" class="content_condition">

                    <label>是否处理：</label>

                    <div class='input-group group_select'>
                        <select id="select_handle">
                            <option value="已处理">已处理</option>
                            <option value="未处理">未处理</option>
                        </select>
                    </div>

                    <label>报警类别：</label>

                    <div class='input-group group_select'>
                        <select id="select_category">
                            <option value="火警">火警</option>
                            <option value="故障">故障</option>
                        </select>
                    </div>

                    <label>首次报警时间：</label>

                    <div class='input-group date' id='startDate'>
                        <input type='text' class="form-control inputDate" readonly/>
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>

                    <label>-</label>

                    <div class='input-group date' id='stopDate'>
                        <input type='text' class="form-control inputDate" readonly/>
                        <span class="input-group-addon">
                            <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                    </div>

                    <button type="button" class="myBtn" id="check_btn">查询</button>

                </form>

            </div>

            <div class="col-sm-12" id="in_page"></div>

            <div class="col-sm-12" id="in_paging"></div>

        </div>

    </div>
</div>

<!-- 模态框（详情） -->
<div class="modal fade prohibitModal" id="checkModal" tabindex="-1" role="dialog" aria-labelledby="checkModalLabel"
     aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog myDialog_900">
        <div class="modal-content" id="checkPage">

        </div>
    </div>
</div>

<!-- 模态框（建筑物） -->
<div class="modal fade prohibitModal" id="buildingModal" tabindex="-1" role="dialog" aria-labelledby="checkModalLabel"
     aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog myDialog_900">
        <div class="modal-content" id="buildingPage">

        </div>
    </div>
</div>

<!-- 模态框（故障处理） -->
<div class="modal fade prohibitModal" id="accidentModal" tabindex="-1" role="dialog" aria-labelledby="checkModalLabel"
     aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog myDialog_600">
        <div class="modal-content" id="accidentPage">

        </div>
    </div>
</div>

<!--详情模板（未处理）-->
<script id="checkView_false" type="text/html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="check_falseModalLabel">报警信息处理详情</h4>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" role="form">

            <div class="row">

                <div class="form-group col-sm-6">
                    <label class="control-label">系统类别值：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{systypeID}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">报警类别：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{cAlarmtype}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">部件地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{deviceaddress}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">网关地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{Gatewayaddress}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">部件类型：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{DeviceTypeName}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">系统地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{sysaddress}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">状态警值：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{StateValue}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">首次报警时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{dFirstAlarmtime}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">最近报警时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{dRecentAlarmtime}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">最近接收时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{dReceivetime}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">报警次数：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{AlarmNum}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">报警来源：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{vAlarmsource}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">具体建筑物：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{sitename}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">楼层：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{floornum}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">具体位置：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{location}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">描述：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{faultdesc}}</p>
                    </div>
                </div>

            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="myBtn" data-dismiss="modal">关闭</button>
    </div>
</script>

<!--详情模板（已处理）-->
<script id="checkView_true" type="text/html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="check_trueModalLabel">报警信息处理详情</h4>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" role="form">

            <div class="row">

                <div class="form-group col-sm-6">
                    <label class="control-label">系统类别值：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{systypeID}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">报警类别：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{cAlarmtype}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">部件地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{deviceaddress}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">网关地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{Gatewayaddress}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">部件类型：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{DeviceTypeName}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">系统地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{sysaddress}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">状态警值：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{StateValue}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">首次报警时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{dFirstAlarmtime}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">最近报警时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{dRecentAlarmtime}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">最近接收时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{dReceivetime}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">报警次数：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{AlarmNum}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">报警来源：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{vAlarmsource}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">具体建筑物：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{sitename}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">楼层：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{floornum}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">具体位置：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{location}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">描述：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{faultdesc}}</p>
                    </div>
                </div>


                <div class="form-group col-sm-6">
                    <label class="control-label">确认结果：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{checkresult}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">确认结果说明：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{checkdesc}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">确认时间：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{chulidate}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">确认人：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{chuliren}}</p>
                    </div>
                </div>

                {{#unless isFire}}
                <div class="form-group col-sm-12">
                    <label class="control-label" style="width: 150px">是否填写故障处理单：</label>

                    <div class="col-sm-2">
                        <p class="form-control-static">{{YnRequest}}</p>
                    </div>
                    {{#if Handle}}
                    <div class="col-sm-4" style="padding: 7px 0;">
                        <a class="operation btn_accident" data-id="{{Firealarmid}}" data-toggle="modal" data-target="#accidentModal">查看故障处理单</a>
                    </div>
                    {{/if}}
                </div>
                {{/unless}}

            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="myBtn" data-dismiss="modal">关闭</button>
    </div>
</script>

<!--详情模板（建筑物）-->
<script id="buildingView" type="text/html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="buildingModalLabel">建筑物信息</h4>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" role="form">

            <div class="row">

                <div class="form-group col-sm-6">
                    <label class="control-label">建筑物名称：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{sitename}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">建筑地址：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{buildingaddress}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">耐火等级：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{NHDJ}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">使用性质：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{useproperty}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">结构类型：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{JGLX}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">建筑高度：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{JZGD}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">地上层次：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{DSCS}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">地上建筑面积：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{DSJZMJ}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">地下层数：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{DXCS}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">地下建筑面积：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{DXJZMJ}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">建筑物类别：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{sitetypename}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">储存物名称：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{holdthings}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">储存物数量：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{holdthingsnum}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">主要储存物情况：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{ZYCCW}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-6">
                    <label class="control-label">隧道情况：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{SDQK}}</p>
                    </div>
                </div>
                <div class="form-group col-sm-6">
                    <label class="control-label">最大容纳人数：</label>

                    <div class="col-sm-7">
                        <p class="form-control-static">{{RLRS}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">建筑物外观图：</label>

                    <div class="col-sm-12 scene_img">
                        {{#each flatpic}}
                        <img src="{{#imgSrc this}}{{/imgSrc}}"/>
                        {{/each}}
                    </div>
                </div>

            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="myBtn" data-dismiss="modal">关闭</button>
    </div>
</script>

<!--详情模板（故障处理单）-->
<script id="accidentView" type="text/html">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="accidentModalLabel">查看故障处理单</h4>
    </div>
    <div class="modal-body">
        <form class="form-horizontal" role="form">

            <div class="row">

                <div class="form-group col-sm-12">
                    <label class="control-label">检查时间：</label>

                    <div class="col-sm-8">
                        <p class="form-control-static">{{wbRepaireTime}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">检查人：</label>

                    <div class="col-sm-8">
                        <p class="form-control-static">{{wbUserID}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">问题或故障：</label>

                    <div class="col-sm-8">
                        <p class="form-control-static">{{wbProblemInfo}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">处理状态：</label>

                    <div class="col-sm-8">
                        <p class="form-control-static">{{HandingState}}</p>
                    </div>
                </div>

                <div class="form-group col-sm-12">
                    <label class="control-label">处理结果：</label>

                    <div class="col-sm-8">
                        <p class="form-control-static">{{DealResult}}</p>
                    </div>
                </div>

            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="myBtn" data-dismiss="modal">关闭</button>
    </div>
</script>

<script id="in_view" type="text/html">
    <table class="table table-striped table-hover main_table">
        <thead>
        <tr>
            <th>操作</th>
            <th>报警类别</th>
            <th>网关地址</th>
            <th>系统类型</th>
            <th>部件地址</th>
            <th>部件类型</th>
            <th>描述</th>
            <th>是否处理</th>
            <th>首次报警时间</th>
            <th>报警次数</th>
            <th>具体建筑物</th>
            <th>楼层</th>
            <th>位置</th>
        </tr>
        </thead>
        <tbody>
        {{#each data}}
        <tr>
            <td><a class="operation btn_check" data-id="{{Firealarmid}}" data-toggle="modal" data-target="#checkModal">详情</a></td>
            <td>{{cAlarmtype}}</td>
            <td>{{Gatewayaddress}}</td>
            <td>{{vSysdesc}}</td>
            <td>{{deviceaddress}}</td>
            <td>{{devicename}}</td>
            <td>{{faultdesc}}</td>
            <td>{{handleType}}</td>
            <td>{{dFirstAlarmtime}}</td>
            <td>{{AlarmNum}}</td>
            <td><a class="operation btn_Building" data-id="{{siteid}}" data-toggle="modal" data-target="#buildingModal">{{sitename}}</a></td>
            <td>{{floornum}}</td>
            <td>{{location}}</td>
        </tr>
        {{/each}}
        </tbody>
    </table>
</script>

<!--公共js引用-->
<script type="text/javascript" src="../../js/config.js"></script>
<script type="text/javascript" src="../../js/common.js"></script>

<!--下面是引用的时间插件-->
<script type="text/javascript" src="../../plug/datepicker/js/bootstrap-datetimepicker.js" charset="UTF-8"></script>
<script type="text/javascript" src="../../plug/datepicker/js/bootstrap-datetimepicker.zh-CN.js" charset="UTF-8"></script>

<!--单页面js引用-->
<script type="text/javascript" src="../../js/Competent/AlarmInformationInfo.js"></script>

</body>
</html>